# 배틀씬 MVP 개발 문서

**작성일**: 2025-12-28
**버전**: MVP v1.0
**상태**: 개발 완료

---

## 개요

드래그앤드롭 방식의 카드 사용 시스템을 적용한 MVP 배틀씬 프로토타입.

---

## 레이아웃

```
┌─────────────────────────────────────────────────┐
│                    턴 정보                        │
├──────────────────────┬──────────────────────────┤
│                      │                          │
│   🧙 플레이어 (왼쪽)   │      👹 적 (오른쪽)       │
│   - HP 바            │      - HP 바             │
│   - 에너지 게이지      │      - 반격 정보          │
│                      │                          │
├──────────────────────┴──────────────────────────┤
│              🃏 손패 카드 (드래그 가능)             │
├─────────────────────────────────────────────────┤
│                   턴 종료 버튼                    │
└─────────────────────────────────────────────────┘
```

---

## 핵심 메카닉

### 카드 사용 (드래그앤드롭)
| 드래그 방향 | 대상 | 카드 타입 |
|-------------|------|-----------|
| 오른쪽 (적) | enemy | 공격 카드 |
| 왼쪽 (플레이어) | player | 회복/버프 카드 |

### 게임 규칙
- **에너지**: 매 턴 3으로 회복 (최대 3)
- **반격**: 턴 종료 시 적이 10 데미지
- **승리**: 적 HP ≤ 0
- **패배**: 플레이어 HP ≤ 0

---

## 카드 데이터

| 카드명 | 비용 | 대상 | 효과 |
|--------|------|------|------|
| 강타 | 2 | 적 | 15 데미지 |
| 연속 공격 | 3 | 적 | 25 데미지 |
| 회복 | 1 | 플레이어 | HP +10 |
| 에너지 충전 | 1 | 플레이어 | 다음 턴 에너지 +1 |
| 방어 태세 | 1 | 플레이어 | 반격 무효화 |
| 집중 타격 | 3 | 적 | 35 데미지, HP -5 |

---

## 파일 구조

```
Prototype/src/
├── types/
│   └── index.ts          # 타입 정의 (Card, Player, Enemy)
├── data/
│   └── cards.ts          # 6장 카드 데이터
├── stores/
│   └── battleStore.ts    # Zustand 상태 관리 (MVP용)
├── components/
│   ├── BattleScene.tsx   # 메인 배틀 레이아웃
│   ├── DraggableCard.tsx # 드래그 가능한 카드
│   ├── CardHand.tsx      # 손패 영역
│   └── ResultScreen.tsx  # 승리/패배 화면
└── App.tsx               # 메인 앱 (phase 분기)
```

---

## 기술 스택

| 기술 | 버전 | 용도 |
|------|------|------|
| React | 19 | UI 프레임워크 |
| TypeScript | 5.9 | 타입 안전성 |
| Zustand | 5.0 | 상태 관리 |
| Tailwind CSS | 4.1 | 스타일링 |
| Framer Motion | 12 | 드래그 + 애니메이션 |
| Vite | 7.3 | 빌드 도구 |

---

## 실행 방법

```bash
cd Prototype
npm install
npm run dev
# http://localhost:5173 접속
```

---

## 게임 플레이 가이드

1. 카드를 **드래그**하여 사용
   - 적 공격: 오른쪽으로 드래그
   - 자신에게 사용: 왼쪽으로 드래그
2. **턴 종료** 버튼 클릭
3. 적 반격 (-10 HP)
4. 적 HP 0 → 승리 / 플레이어 HP 0 → 패배
5. 재시작 버튼으로 다시 플레이

---

## 구현 완료 항목

- [x] 좌우 배치 레이아웃
- [x] 드래그앤드롭 카드 사용
- [x] 에너지 시스템
- [x] 턴 시스템 + 적 반격
- [x] HP/에너지 바 (애니메이션)
- [x] 승리/패배 화면
- [x] 재시작 기능

---

## MVP 이후 확장 가능 기능

- [ ] 5턴 제한 (마지막 턴 경고)
- [ ] 데이터 수집 (설문조사, 선택 시간)
- [ ] 데미지 숫자 팝업
- [ ] 카드 날아가는 애니메이션
- [ ] 공격/반격 이펙트 (흔들림)
- [ ] 전투 로그 UI
- [ ] 키보드 단축키

---

## 변경 이력

| 날짜 | 버전 | 내용 |
|------|------|------|
| 2025-12-28 | MVP v1.0 | 초기 MVP 개발 완료 |

---

**문서 종료**
