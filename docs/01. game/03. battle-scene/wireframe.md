# 배틀씬 와이어프레임 스펙 v1.0

## 개요
- **씬 목적**: 카드를 플레이하여 적을 처치하는 전투
- **기준 해상도**: 1920x1080
- **레이아웃 스타일**: Slay the Spire 스타일 (좌우 대치, 하단 손패)
- **참고 문서**:
  - `docs/01. game/03. battle-scene/requirements.md`
  - `docs/00. project/PRD.md`

---

## 와이어프레임 (ASCII Art)

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                                                                                 │
│                          [ 던전 배경 - 전체 화면 ]                               │
│                                                                                 │
│     [버프/디버프]                                    [버프/디버프]               │
│     [🛡][⚔][🔥]                                      [💀][⚡][🩸]               │
│                                                                                 │
│     ┌─────────────────┐                        ┌─────────────────┐             │
│     │                 │                        │                 │             │
│     │                 │                        │                 │             │
│     │     캐릭터      │                        │       적        │             │
│     │     이미지      │                        │      이미지     │             │
│     │                 │                        │                 │             │
│     │                 │                        │                 │             │
│     ├─────────────────┤                        ├─────────────────┤             │
│     │ ████████░░ 40/50│                        │ ████████░░ 80/100│             │
│     └─────────────────┘                        └─────────────────┘             │
│                                                                                 │
│                                                                                 │
│                                                                                 │
│  ┌───────┐                                                                      │
│  │  ⚡3  │              ╭─────╮╭─────╮╭─────╮╭─────╮╭─────╮     ┌───────────┐  │
│  ├───────┤              │     ││     ││     ││     ││     │     │           │  │
│  │  덱   │              │ 카드 ││ 카드 ││ 카드 ││ 카드 ││ 카드 │     │  턴 종료  │  │
│  │  12   │              │  1  ││  2  ││  3  ││  4  ││  5  │     │           │  │
│  └───────┘              ╰─────╯╰─────╯╰─────╯╰─────╯╰─────╯     └───────────┘  │
│                              (부채꼴 손패 배치)                                  │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘
```

---

## 레이아웃 구조 (XY 평면)

### 전체 화면 영역 분할

```
┌─────────────────────────────────────────────────────────────┐
│  BATTLE_SCENE (1920x1080)                                   │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  BATTLE_AREA (1920x760) - 전투 영역                   │  │
│  │                                                       │  │
│  │  ┌─────────────┐           ┌─────────────┐           │  │
│  │  │ PLAYER_ZONE │           │ ENEMY_ZONE  │           │  │
│  │  │ (480x600)   │           │ (480x600)   │           │  │
│  │  └─────────────┘           └─────────────┘           │  │
│  │                                                       │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐  │
│  │  ACTION_AREA (1920x320) - 조작 영역                   │  │
│  │                                                       │  │
│  │  [리소스]      [카드 손패]                [턴종료]    │  │
│  │                                                       │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

### 영역별 상세 배치

| 영역 | 위치 (x, y, w, h) | 내용 |
|------|-------------------|------|
| **BATTLE_SCENE** | 0, 0, 1920, 1080 | 전체 화면 |
| **BATTLE_AREA** | 0, 0, 1920, 760 | 전투 영역 (상단 70%) |
| **ACTION_AREA** | 0, 760, 1920, 320 | 조작 영역 (하단 30%) |
| **PLAYER_ZONE** | 120, 100, 480, 600 | 플레이어 영역 |
| **ENEMY_ZONE** | 1320, 100, 480, 600 | 적 영역 |

### PLAYER_ZONE 상세 (플레이어 영역)

| 요소 | 위치 (상대 좌표) | 크기 | 설명 |
|------|------------------|------|------|
| `grp_player_effects` | 120, 80 | 300x50 | 버프/디버프 아이콘 영역 |
| `el_player_sprite` | 120, 150 | 300x400 | 캐릭터 이미지 |
| `grp_player_hp_bar` | 120, 570 | 300x40 | HP 바 |

### ENEMY_ZONE 상세 (적 영역)

| 요소 | 위치 (상대 좌표) | 크기 | 설명 |
|------|------------------|------|------|
| `grp_enemy_effects` | 1500, 80 | 300x50 | 버프/디버프 아이콘 영역 |
| `el_enemy_sprite` | 1500, 150 | 300x400 | 적 이미지 |
| `grp_enemy_hp_bar` | 1500, 570 | 300x40 | HP 바 |

### ACTION_AREA 상세 (조작 영역)

| 요소 | 위치 | 크기 | 설명 |
|------|------|------|------|
| `grp_resource_panel` | 60, 800 | 120x200 | 에너지 + 덱 (수직 배치) |
| `el_energy_display` | 60, 800 | 120x80 | 에너지 표시 |
| `el_deck_icon` | 60, 900 | 120x100 | 덱 아이콘 + 남은 카드 수 |
| `grp_hand_cards` | 480, 820 | 960x220 | 카드 5장 (부채꼴) |
| `cmp_end_turn_btn` | 1680, 860 | 180x100 | 턴 종료 버튼 |

---

## UI 레이어 구조 (컴포넌트 트리)

### 레이어 계층 (5단계)

```
Scene > Area > Zone/Section > Group > Component > Element
```

### 네이밍 컨벤션
- **snake_case** 사용
- 접두사: `sec_` (Section), `grp_` (Group), `cmp_` (Component), `el_` (Element)

### 전체 레이어 트리

```
battle_scene (Frame, 1920x1080)
│
├── el_dungeon_bg ─────────────────────────────────────────────
│   └── 던전 배경 이미지 (전체 화면)
│
├── sec_battle_area ───────────────────────────────────────────
│   │
│   ├── grp_player_zone ───────────────────────────────────
│   │   │
│   │   ├── grp_player_effects ────────────────────────
│   │   │   ├── cmp_effect_icon_1
│   │   │   │   ├── el_effect_bg
│   │   │   │   ├── el_effect_icon
│   │   │   │   └── el_effect_count (남은 턴 수)
│   │   │   ├── cmp_effect_icon_2
│   │   │   └── ... (최대 6개)
│   │   │
│   │   ├── grp_player_character ──────────────────────
│   │   │   └── el_player_sprite
│   │   │       └── 캐릭터 이미지
│   │   │
│   │   └── grp_player_hp_bar ─────────────────────────
│   │       ├── el_hp_bar_bg
│   │       ├── el_hp_bar_fill
│   │       └── el_hp_text ("40/50")
│   │
│   └── grp_enemy_zone ────────────────────────────────────
│       │
│       ├── grp_enemy_effects ─────────────────────────
│       │   ├── cmp_effect_icon_1
│       │   ├── cmp_effect_icon_2
│       │   └── ... (최대 6개)
│       │
│       ├── grp_enemy_character ───────────────────────
│       │   └── el_enemy_sprite
│       │       └── 적 이미지
│       │
│       └── grp_enemy_hp_bar ──────────────────────────
│           ├── el_hp_bar_bg
│           ├── el_hp_bar_fill
│           └── el_hp_text ("80/100")
│
└── sec_action_area ───────────────────────────────────────────
    │
    ├── grp_resource_panel ────────────────────────────────
    │   │
    │   ├── grp_energy_display ────────────────────────
    │   │   ├── el_energy_bg
    │   │   ├── el_energy_icon (⚡)
    │   │   └── el_energy_text ("3")
    │   │
    │   └── grp_deck_display ──────────────────────────
    │       ├── el_deck_bg
    │       ├── el_deck_icon
    │       └── el_deck_count ("12")
    │
    ├── grp_hand_cards ────────────────────────────────────
    │   ├── cmp_card_1
    │   │   ├── el_card_bg
    │   │   ├── el_card_cost
    │   │   ├── el_card_name
    │   │   ├── el_card_image
    │   │   └── el_card_description
    │   ├── cmp_card_2
    │   ├── cmp_card_3
    │   ├── cmp_card_4
    │   └── cmp_card_5
    │
    └── cmp_end_turn_btn ──────────────────────────────────
        ├── el_btn_bg
        └── el_btn_text ("턴 종료")
```

---

## Z축 레이어 구조 (깊이 순서)

화면의 깊이(앞/뒤) 순서를 정의합니다. Z0이 가장 뒤, Z6이 가장 앞입니다.

```
Z6 ─────────────────────────────────────────────────────────────────
│  OVERLAY (최상위)
│  └── 데미지 숫자 팝업, 에너지 변화 표시, 효과 텍스트
│
Z5 ─────────────────────────────────────────────────────────────────
│  MODAL (모달)
│  └── 카드 상세 정보 팝업 (호버 시)
│
Z4 ─────────────────────────────────────────────────────────────────
│  INTERACTIVE (상호작용)
│  └── 카드 5장, 턴 종료 버튼
│
Z3 ─────────────────────────────────────────────────────────────────
│  UI_ELEMENTS (UI 요소)
│  └── HP 바, 에너지 표시, 덱 아이콘, 효과 아이콘
│
Z2 ─────────────────────────────────────────────────────────────────
│  CHARACTERS (캐릭터)
│  └── 플레이어 스프라이트, 적 스프라이트
│
Z1 ─────────────────────────────────────────────────────────────────
│  EFFECTS (배경 효과)
│  └── 전장 이펙트, 파티클 (선택적)
│
Z0 ─────────────────────────────────────────────────────────────────
   BACKGROUND (배경)
   └── el_dungeon_bg
```

### Z축 레이어 매핑

| Z-Level | 레이어명 | 포함 요소 |
|---------|----------|-----------|
| **Z0** | BACKGROUND | `el_dungeon_bg` |
| **Z1** | EFFECTS | 전장 이펙트, 파티클 |
| **Z2** | CHARACTERS | `el_player_sprite`, `el_enemy_sprite` |
| **Z3** | UI_ELEMENTS | HP 바, 에너지, 덱, 효과 아이콘 |
| **Z4** | INTERACTIVE | `cmp_card_*`, `cmp_end_turn_btn` |
| **Z5** | MODAL | 카드 상세 팝업 |
| **Z6** | OVERLAY | 데미지 숫자, 효과 텍스트 |

---

## 컴포넌트 Variants

| 컴포넌트 | Variants | 설명 |
|----------|----------|------|
| `cmp_card_*` | `default`, `hover`, `disabled` | 카드 3상태 |
| `cmp_end_turn_btn` | `default`, `hover` | 턴 종료 버튼 2상태 |
| `cmp_effect_icon_*` | `buff`, `debuff` | 효과 아이콘 유형 |
| `el_hp_bar_fill` | `normal`, `low` (30% 이하) | HP 바 상태 |

---

## 비주얼 스타일 가이드

### 컬러 팔레트 (다크 판타지)

| 요소 | 색상 | 용도 |
|------|------|------|
| 배경 | #1A1A2E | 던전 기본 배경색 |
| HP 바 (채움) | #8B2942 | HP 바 채움 색상 |
| HP 바 (위험) | #FF4444 | HP 30% 이하 |
| HP 바 (배경) | #2D2D2D | HP 바 배경 |
| 에너지 | #FFD700 | 에너지 아이콘/텍스트 |
| 버프 | #4CAF50 | 버프 아이콘 배경 |
| 디버프 | #E91E63 | 디버프 아이콘 배경 |
| 텍스트 (주요) | #E0D5C7 | 수치, 이름 |
| 텍스트 (보조) | #A8A196 | 설명 |
| 버튼 | #4A3C28 | 버튼 배경 |
| 버튼 (호버) | #6B5A3E | 버튼 호버 |

### 타이포그래피

| 요소 | 폰트 크기 | 스타일 |
|------|-----------|--------|
| HP 수치 | 18px | Bold |
| 에너지 수치 | 24px | Bold |
| 덱 카드 수 | 16px | Medium |
| 카드 이름 | 14px | Bold |
| 카드 설명 | 12px | Regular |
| 버튼 텍스트 | 20px | Bold |
| 데미지 팝업 | 32px | Bold |

### 선/테두리 스타일

| 요소 | 스타일 |
|------|--------|
| 카드 테두리 | 2px, #4A3C28 |
| HP 바 테두리 | 1px, #000000 |
| 버튼 테두리 | 2px, #4A3C28 |
| 효과 아이콘 | 2px, 원형 |

---

## 카드 상세 스펙

### 카드 크기 및 배치

```
카드 크기: 160w x 220h
부채꼴 배치 (5장):
  - 중앙 카드 (3번): 회전 0°
  - 2, 4번 카드: 회전 ±8°
  - 1, 5번 카드: 회전 ±15°
  - 수직 오프셋: 외곽으로 갈수록 +20px
```

### 카드 내부 구조

```
┌─────────────────┐
│ [비용]     [타입] │  ← 상단: 에너지 비용, 카드 타입
├─────────────────┤
│                 │
│   [카드 아트]    │  ← 중앙: 카드 이미지
│                 │
├─────────────────┤
│   [카드 이름]    │  ← 이름
├─────────────────┤
│   [효과 설명]    │  ← 하단: 효과 텍스트
│                 │
└─────────────────┘
```

---

## HP 바 상세 스펙

### HP 바 구조

```
┌─────────────────────────────────┐
│ ████████████░░░░░░░░  40 / 50  │
└─────────────────────────────────┘
     (채움)      (빈)    (수치)
```

### HP 바 크기
- 너비: 300px
- 높이: 40px
- 채움 영역: 현재HP / 최대HP 비율

---

## 에너지 + 덱 패널 스펙

### 수직 배치 구조

```
┌─────────┐
│   ⚡    │  ← 에너지 아이콘
│    3    │  ← 현재 에너지
├─────────┤
│  [덱]   │  ← 덱 아이콘 (카드 뒷면)
│   12    │  ← 남은 카드 수
└─────────┘
```

### 크기
- 전체: 120w x 200h
- 에너지 영역: 120w x 80h
- 덱 영역: 120w x 100h

---

## 효과 아이콘 스펙

### 아이콘 구조

```
┌─────┐
│ 🛡️  │  ← 효과 아이콘
│  2  │  ← 남은 턴 수 (선택적)
└─────┘
```

### 크기 및 배치
- 아이콘 크기: 40w x 50h
- 간격: 8px
- 최대 개수: 6개 (가로 나열)
- 버프: 초록 배경 (#4CAF50)
- 디버프: 빨간 배경 (#E91E63)

---

## 제외된 요소

| 요소 | 제외 이유 |
|------|-----------|
| 남은 턴 표시 | 턴 제한 없음 |
| 공격 버튼 | 카드로 공격 수행 |
| 반격 예고 표시 | 미니멀 UI |
| 조작 영역 구분선 | 자연스러운 연결 |

---

## 인터랙션 (참고용)

| 요소 | 동작 |
|------|------|
| **카드** | 클릭: 즉시 플레이 |
| **카드** | 호버: 확대 + 상세 정보 |
| **턴 종료** | 클릭: 턴 종료 |

---

## 다음 단계

1. [x] 와이어프레임 v1.0 설계 완료
2. [ ] Figma JSON 스펙 생성 (선택적)
3. [ ] React 프로토타입 구현
4. [ ] 카드 데이터 연동

---

**작성일**: 2026-01-01
**버전**: v1.0
**작성자**: Claude Code
