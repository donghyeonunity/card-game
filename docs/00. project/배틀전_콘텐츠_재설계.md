---
문서명: 배틀 전 콘텐츠 재설계안
버전: 2.0
담당 에이전트: content-planner
최종 수정: 2026-01-02
상태: 초안
---

# 배틀 전 콘텐츠 재설계

## 설계 철학

### 핵심 요구사항
1. **사고 시간 보장**: 시간 제한 없음
2. **지속적 영향**: 선택이 런 전체에 영향
3. **가치 충돌**: 최소 2개 가치축 충돌
4. **정답 없음**: 상황 의존적 최선

### 영향 지속성의 종류
- **영구적**: 런이 끝날 때까지 유지
- **누적적**: 선택할수록 강화/약화
- **조건적**: 특정 상황에서 발동

---

## 옵션 1: 유물 갈림길 (Relic Fork)

### 개요
3개의 유물 중 1개를 선택하고, 나머지는 영구히 사라집니다.
**Slay the Spire의 보스 유물 선택과 유사하지만, 매 배틀 전 등장**

### 선택지 예시
```
┌─────────────────────────────────────────────────────────┐
│ 다음 중 하나의 유물을 획득합니다. (나머지는 사라짐)     │
├─────────────────────────────────────────────────────────┤
│ [A] 피의 목걸이                                         │
│     매 턴 시작: 체력 1 손실, 카드 1장 추가 드로우       │
│                                                         │
│ [B] 강철 방패                                           │
│     전투 시작: 방어도 5 획득, 에너지 -1                 │
│                                                         │
│ [C] 행운의 동전                                         │
│     전투 종료: 50% 확률로 보상 2배 / 50% 보상 없음      │
└─────────────────────────────────────────────────────────┘
```

### 런 전체 영향
- **획득한 유물**: 이후 모든 배틀에서 효과 발동
- **포기한 유물**: 다시는 볼 수 없음 (회고와 후회 생성)
- **유물 조합**: 선택이 쌓일수록 빌드 방향성 형성

### 플레이어 사고 과정
1. "현재 덱과 시너지는?" (피의 목걸이 + 드로우 덱)
2. "앞으로 어떤 적을 만날까?" (강철 방패 + 보스전)
3. "리스크를 감수할 수 있나?" (행운의 동전 + 자원 부족)
4. "이미 가진 유물과 충돌하지 않나?"

### 가치 충돌
- **즉시성 vs 장기성**: 강력하지만 위험 vs 안정적이지만 평범
- **공격 vs 방어**: 화력 증가 vs 생존력 증가
- **확정 vs 도박**: 안정적 이득 vs 큰 변수

### 감정 설계
- **선택 시**: 기대감, 전략적 고민
- **전투 중**: "내 선택이 맞았다" or "다른 걸 고를 걸"
- **런 후반**: "그때 그 유물을 골랐더니 이 빌드가 완성됐다"

### 프로토타입 구현
**난이도: 중**
```typescript
// 유물 데이터 구조
interface Relic {
  id: string;
  name: string;
  description: string;
  rarity: 'common' | 'uncommon' | 'rare';
  onCombatStart?: (state: GameState) => void;
  onTurnStart?: (state: GameState) => void;
  onCardPlay?: (state: GameState, card: Card) => void;
  // ...기타 트리거
}

// RelicSelectionScene.tsx
// - 3개 무작위 제시 (희귀도 가중치)
// - 선택 후 player.relics[]에 추가
// - 전투 시스템에 트리거 연동 필요
```

**장점**:
- Slay the Spire 플레이어에게 친숙
- 빌드 다양성 자연스럽게 증가
- 구현 후 콘텐츠 추가 용이

**단점**:
- 유물 효과 시스템 구축 필요
- 밸런스 조정 복잡

---

## 옵션 2: 영구 버프/디버프 거래 (Blessing Trade)

### 개요
**"강력한 축복을 받되, 대가를 지불한다"**
선택한 축복과 저주는 런 전체에 영구 적용됩니다.

### 선택지 예시
```
┌─────────────────────────────────────────────────────────┐
│ 하나의 거래를 선택하세요. (효과는 런 종료까지 유지)     │
├─────────────────────────────────────────────────────────┤
│ [A] 광전사의 계약                                       │
│     ✓ 매 턴: 에너지 +1                                  │
│     ✗ 매 턴 종료: 받지 못한 피해 3 자가 피해            │
│                                                         │
│ [B] 수호자의 맹세                                       │
│     ✓ 전투 시작: 방어도 15 획득                         │
│     ✗ 첫 3턴: 카드 1장만 플레이 가능                    │
│                                                         │
│ [C] 운명의 룰렛                                         │
│     ✓ 카드 드로우 시: 30% 확률로 1장 추가 드로우        │
│     ✗ 카드 드로우 시: 30% 확률로 무작위 카드 소멸       │
│                                                         │
│ [D] 거래하지 않음                                       │
│     효과 없음                                           │
└─────────────────────────────────────────────────────────┘
```

### 런 전체 영향
- **영구 적용**: 이후 모든 전투에서 축복+저주 동시 발동
- **누적 가능**: 여러 번 선택 → 여러 거래 동시 보유 가능
- **빌드 정의**: "에너지 부스트 받고 공격적으로" vs "안정 플레이"

### 플레이어 사고 과정
1. "이 대가를 감당할 수 있나?" (광전사 - 방어 덱이면 위험)
2. "축복을 충분히 활용할 수 있나?" (에너지 +1을 쓸 카드가 있나)
3. "이미 받은 거래와 충돌하지 않나?"
4. "안전하게 [D] 거래 안 함을 선택할까?"

### 가치 충돌
- **파워 vs 안정성**: 강해지지만 위험 vs 평범하지만 안전
- **탐욕 vs 보수**: 더 많이 받기 vs 현재 유지
- **올인 vs 균형**: 한 방향 극단화 vs 밸런스 유지

### 감정 설계
- **선택 시**: "이 대가를 감당할 수 있을까?" (긴장감)
- **전투 중**: "역시 강하다" or "대가가 너무 크다"
- **누적 시**: "거래를 너무 많이 받았다" (압박) or "완벽한 조합" (쾌감)

### 프로토타입 구현
**난이도: 중하**
```typescript
interface Blessing {
  id: string;
  name: string;
  benefit: string;  // 플레이어용 설명
  cost: string;     // 대가 설명
  onTurnStart?: (state: GameState) => void;
  onTurnEnd?: (state: GameState) => void;
  // ...트리거
}

// BlessingTradeScene.tsx
// - 3-4개 거래 제시
// - player.blessings[]에 추가
// - 전투 시스템에 영구 효과 통합
```

**장점**:
- "하이리스크 하이리턴" 선택의 재미
- [D] 거래 안 함으로 강요 없음
- 누적 시 극적인 빌드 탄생

**단점**:
- 대가 밸런스 조정 어려움
- 플레이어가 과도한 대가로 막힐 수 있음

---

## 옵션 3: 덱 변형 제단 (Deck Altar)

### 개요
**"덱을 영구적으로 변형시키는 제단"**
Monster Train의 "덱 업그레이드" + Slay the Spire의 "카드 제거/변환"

### 선택지 예시
```
┌─────────────────────────────────────────────────────────┐
│ 제단이 당신의 덱을 변화시키려 합니다...                 │
├─────────────────────────────────────────────────────────┤
│ [A] 정화의 제단                                         │
│     카드 2장 제거, 희귀 카드 1장 획득                   │
│                                                         │
│ [B] 복제의 제단                                         │
│     카드 1장 선택 → 복사본 2장 덱에 추가                │
│     (같은 카드 3장 보유 가능)                           │
│                                                         │
│ [C] 변환의 제단                                         │
│     모든 [공격] 카드의 코스트 -1                        │
│     모든 [방어] 카드의 효과 -30%                        │
│                                                         │
│ [D] 제단을 떠남                                         │
│     덱 변화 없음                                        │
└─────────────────────────────────────────────────────────┘
```

### 런 전체 영향
- **덱 자체 변화**: 카드 추가/제거/변환은 영구적
- **빌드 방향 결정**: "공격 특화" vs "균형" vs "콤보"
- **회복 불가**: 제거한 카드는 돌아오지 않음

### 플레이어 사고 과정
1. "지금 덱에서 필요 없는 카드는?" (정화)
2. "어떤 카드를 3장으로 만들면 강할까?" (복제)
3. "공격 올인해도 괜찮을까?" (변환 - 방어 희생)
4. "아직 덱을 건드릴 타이밍이 아니다" (D 선택)

### 가치 충돌
- **집중 vs 다양성**: 핵심 카드 강화 vs 옵션 유지
- **단기 vs 장기**: 지금 필요한 카드 vs 나중을 위한 카드
- **순수성 vs 변형**: 시너지 유지 vs 새로운 가능성

### 감정 설계
- **선택 시**: "이 카드를 버려도 될까?" (결단)
- **전투 중**: "그 카드가 있었으면..." or "덱이 날렵해졌다"
- **런 후반**: "그때 그 선택 덕분에 이 덱이 완성됐다"

### 프로토타입 구현
**난이도: 중상**
```typescript
// DeckAltarScene.tsx
interface AltarOption {
  id: string;
  type: 'remove' | 'duplicate' | 'transform' | 'upgrade';
  execute: (deck: Card[]) => Card[];
}

// A: 카드 선택 UI → 제거 → 랜덤 희귀 카드 추가
// B: 카드 선택 UI → 복사본 2장 추가
// C: 덱 전체 순회 → 조건부 변경
// D: 그냥 다음 씬
```

**장점**:
- 덱빌딩 게임의 핵심 재미
- 선택 후 즉시 체감 가능
- Slay the Spire 플레이어에게 매우 친숙

**단점**:
- 카드 선택 UI 구현 필요
- 밸런스 영향 큼 (특히 복제)

---

## 옵션 4: 운명의 예언 (Prophecy System)

### 개요
**"미래를 보고 준비하거나, 모르는 채로 보상을 받거나"**
다음 3회 전투의 미리보기를 얻는 대신, 즉시 보상을 포기합니다.

### 선택지 예시
```
┌─────────────────────────────────────────────────────────┐
│ 신탁이 당신에게 선택을 요구합니다...                    │
├─────────────────────────────────────────────────────────┤
│ [A] 예언을 받는다                                       │
│     ✓ 다음 3회 전투의 적 구성 확인 가능                 │
│     ✓ 전투 전 "대비" 버프 선택 가능 (적 유형별)         │
│     ✗ 지금 즉시: 체력 -20                               │
│                                                         │
│ [B] 예언을 거부한다                                     │
│     ✓ 지금 즉시: 유물 1개 획득                          │
│     ✗ 다음 3회 전투: 적 구성 모름 (무작위 조우)         │
│                                                         │
│ [C] 신탁을 떠난다                                       │
│     효과 없음                                           │
└─────────────────────────────────────────────────────────┘
```

### 런 전체 영향
- **정보 vs 자원**: 미래 예측 vs 현재 파워
- **준비 vs 적응**: 계획적 플레이 vs 즉흥 대처
- **3회 지속**: 예언 효과는 3전투 후 소멸

### 플레이어 사고 과정
1. "다음 적을 미리 알면 덱을 어떻게 조정할까?"
2. "지금 유물이 더 급한가, 정보가 더 급한가?"
3. "체력 -20을 감당할 수 있나?"
4. "적 구성을 몰라도 이 덱이면 괜찮을까?"

### 전투 전 "대비" 버프 (예언 선택 시)
```
다음 전투: [보스 - 화염 드래곤]
대비 버프를 선택하세요:

[A] 내화 코팅: 화염 피해 50% 감소
[B] 재빠른 발놀림: 회피 +20%
[C] 용 사냥꾼의 창: 보스 피해 +30%
```

### 가치 충돌
- **정보 vs 파워**: 예측 가능성 vs 즉시 강함
- **준비 vs 유연성**: 맞춤 대비 vs 범용 대응
- **장기 vs 단기**: 3회 투자 vs 지금 이득

### 감정 설계
- **예언 선택 시**: "준비된 전투" (안정감) → "완벽하게 카운터했다" (성취)
- **거부 선택 시**: "유물 획득" (즉시 만족) → "이 적이 나올 줄 몰랐다" (긴장)
- **후회 가능성**: "예언 받을 걸" or "유물이 더 좋았다"

### 프로토타ip 구현
**난이도: 상**
```typescript
// ProphecyScene.tsx
interface Prophecy {
  battles: Array<{
    enemyType: string;
    enemyCount: number;
    difficulty: number;
  }>;
  prepsAvailable: PrepBuff[];
}

// [A] 선택 시:
// - 다음 3 전투 미리 생성 (시드 고정)
// - 각 전투 전 PrepSelectionScene 표시
// - player.currentHealth -= 20

// [B] 선택 시:
// - 유물 1개 즉시 획득
// - 전투는 기존대로 무작위

// PrepSelectionScene.tsx
// - 적 타입에 맞는 버프 3개 제시
// - 선택 시 해당 전투에만 적용
```

**장점**:
- "정보"라는 새로운 자원 도입
- 준비된 전투의 쾌감 (퍼즐 게임 느낌)
- 선택에 따라 플레이 패턴 완전히 달라짐

**단점**:
- 구현 복잡도 높음 (전투 미리 생성)
- 예언 없이도 재미있어야 함 (밸런스)

---

## 옵션 비교표

| 옵션 | 런 영향 | 사고 깊이 | 구현 난이도 | 친숙도 | 추천도 |
|------|---------|-----------|-------------|--------|--------|
| 1. 유물 갈림길 | ★★★★★ | ★★★★☆ | ★★★☆☆ | ★★★★★ | **1순위** |
| 2. 축복 거래 | ★★★★★ | ★★★★★ | ★★★☆☆ | ★★★☆☆ | **2순위** |
| 3. 덱 변형 제단 | ★★★★★ | ★★★★★ | ★★★★☆ | ★★★★★ | 3순위 |
| 4. 운명의 예언 | ★★★★☆ | ★★★★★ | ★★★★★ | ★★☆☆☆ | 4순위 |

---

## 최종 추천: 옵션 1 (유물 갈림길)

### 이유
1. **런 전체 영향 확실**: 유물은 계속 효과 발동
2. **구현 적당**: 트리거 시스템만 있으면 확장 쉬움
3. **장르 친숙**: 로그라이크 플레이어에게 익숙
4. **밸런스 용이**: 유물별 개별 조정 가능
5. **콘텐츠 확장성**: 새 유물 추가만으로 다양성 증가

### 초기 유물 세트 제안 (20개)
```
[공격 계열]
- 피의 목걸이: 매 턴 체력 1 손실, 카드 1장 추가 드로우
- 번개 구슬: 턴 종료 시 무작위 적에게 3 피해
- 공격의 반지: 공격 카드 피해 +20%, 방어 카드 효과 -20%

[방어 계열]
- 강철 방패: 전투 시작 시 방어도 5, 에너지 -1
- 가시 갑옷: 피격 시 공격자에게 피해의 30% 반사
- 수호자의 부적: 체력 50% 이하 시 방어도 2배

[자원 계열]
- 마나 수정: 매 3턴마다 에너지 +2
- 연금술사의 돌: 전투 종료 시 골드 2배, 체력 회복 불가
- 행운의 동전: 보상 50% 확률 2배 / 50% 없음

[특수 계열]
- 시간의 모래시계: 3턴마다 턴 되돌리기 1회 가능
- 저주받은 왕관: 모든 카드 코스트 -1, 매 턴 체력 2 손실
- 변신의 거울: 전투 시작 시 덱에서 무작위 카드 3장 교체
```

---

## 프로토타입 구현 로드맵

### Phase 1: 유물 시스템 (1-2일)
```typescript
// src/types/relic.ts
// src/data/relics.ts (초기 10개)
// src/stores/gameStore.ts (player.relics 추가)
```

### Phase 2: 트리거 시스템 (2-3일)
```typescript
// src/systems/relicTriggers.ts
// 전투 시스템에 훅 추가:
// - onCombatStart
// - onTurnStart
// - onTurnEnd
// - onCardPlay
```

### Phase 3: 유물 선택 씬 (1-2일)
```typescript
// src/components/scenes/RelicSelectionScene.tsx
// - 3개 무작위 제시
// - 선택 UI
// - 선택 후 player.relics에 추가
```

### Phase 4: 유물 UI (1일)
```typescript
// src/components/ui/RelicDisplay.tsx
// 전투 화면에 보유 유물 아이콘 표시
// 호버 시 효과 설명
```

### Phase 5: 콘텐츠 확장 (지속)
- 유물 20개 → 50개 → 100개
- 희귀도 시스템 (Common/Uncommon/Rare)
- 세트 시너지

---

## 시스템 기획자 협업 필요사항

### 필요한 트리거 종류
```typescript
enum RelicTrigger {
  ON_COMBAT_START,      // 전투 시작 시
  ON_COMBAT_END,        // 전투 종료 시
  ON_TURN_START,        // 턴 시작 시
  ON_TURN_END,          // 턴 종료 시
  ON_CARD_PLAY,         // 카드 사용 시
  ON_CARD_DRAW,         // 카드 드로우 시
  ON_DAMAGE_DEALT,      // 피해 입힐 시
  ON_DAMAGE_TAKEN,      // 피해 받을 시
  ON_HEAL,              // 체력 회복 시
  ON_ENEMY_DEATH,       // 적 처치 시
}
```

### 필요한 게임 상태 조작 메서드
```typescript
// gameStore에 추가 필요
addEnergy(amount: number)
drawCards(amount: number)
dealDamage(target: Enemy, amount: number)
gainBlock(amount: number)
modifyCardCost(cardId: string, modifier: number)
// ...
```

### 우선순위 질문
1. **트리거 실행 순서**: 여러 유물 트리거가 충돌하면?
2. **효과 스택**: 같은 유물 여러 개 보유 시 중첩?
3. **취소 가능성**: 일부 유물 효과를 무효화하는 적 존재?

---

## 밸런스 기획자 협업 필요사항

### 초기 수치 제안
```
[파워 레벨 기준]
Common: 덱의 10% 성능 향상
Uncommon: 덱의 20-30% 성능 향상
Rare: 덱의 50%+ 성능 향상 (대가 있음)

[대가의 크기]
작은 대가: 체력 1/턴, 에너지 -1
중간 대가: 체력 3/턴, 카드 드로우 -1
큰 대가: 체력 5/턴, 특정 카드 타입 사용 불가
```

### 조정 필요 유물
- **피의 목걸이**: 체력 손실 1/턴이 적절한가?
- **행운의 동전**: 50% 확률이 너무 도박성인가?
- **저주받은 왕관**: 코스트 -1이 너무 강력한가?

---

## 다음 단계

### 즉시 실행 가능
1. ✅ 이 문서 검토 및 피드백
2. ⬜ 옵션 1 구현 시작 (유물 시스템)

### 후속 문서 필요
1. **유물 명세서 템플릿** (개별 유물 상세 설계)
2. **트리거 시스템 설계서** (시스템 기획자와 협업)
3. **유물 밸런스 시트** (밸런스 기획자와 협업)

---

## 참고 레퍼런스

### Slay the Spire
- 보스 유물 선택: 3개 중 1개
- 유물 시너지: Runic Pyramid + Dead Branch
- 유물 카운터: Velvet Choker (턴당 카드 6장 제한)

### Monster Train
- 아티팩트 선택: 배틀 전 제시
- 세트 효과: 같은 클랜 아티팩트 3개 시 보너스

### Inscryption
- 부적 시스템: 런 전체 영향
- 선택의 무게: 영구적이라 신중함

### Hades
- 신의 축복: 방 선택으로 획득
- 조합 효과: Duo Boons
